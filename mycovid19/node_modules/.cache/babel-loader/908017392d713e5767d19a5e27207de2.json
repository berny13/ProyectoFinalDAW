{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GeocoderAutocomplete = void 0;\n\nconst countries_json_1 = __importDefault(require(\"./countries.json\"));\n\nclass GeocoderAutocomplete {\n  constructor(container, apiKey, options) {\n    this.container = container;\n    this.apiKey = apiKey;\n    this.autocompleteItemsElement = null;\n    this.changeCallbacks = [];\n    this.suggestionsChangeCallbacks = [];\n    this.geocoderUrl = \"https://api.geoapify.com/v1/geocode/autocomplete\";\n    this.placeDetailsUrl = \"https://api.geoapify.com/v2/place-details\";\n    this.options = {\n      limit: 5,\n      debounceDelay: 100\n    };\n    this.BY_COUNTRYCODE = 'countrycode';\n    this.BY_RECT = 'rect';\n    this.BY_CIRCLE = 'circle';\n    this.BY_PROXIMITY = 'proximity';\n    this.options = options ? Object.assign(Object.assign({}, this.options), options) : this.options;\n    this.options.filter = this.options.filter || {};\n    this.options.bias = this.options.bias || {};\n\n    if (this.options.countryCodes) {\n      this.addFilterByCountry(this.options.countryCodes);\n    }\n\n    if (this.options.position) {\n      this.addBiasByProximity(this.options.position);\n    } // create input element\n\n\n    this.inputElement = document.createElement(\"input\");\n    this.inputElement.classList.add(\"geoapify-autocomplete-input\");\n    this.inputElement.setAttribute(\"type\", \"text\");\n    this.inputElement.setAttribute(\"placeholder\", this.options.placeholder || \"Enter an address here\");\n    this.container.appendChild(this.inputElement); // add clear button to input element\n\n    this.inputClearButton = document.createElement(\"div\");\n    this.inputClearButton.classList.add(\"geoapify-close-button\");\n    this.addIcon(this.inputClearButton, 'close');\n    this.inputClearButton.addEventListener(\"click\", this.clearFieldAndNotify.bind(this), false);\n    this.container.appendChild(this.inputClearButton);\n    this.inputElement.addEventListener('input', this.onUserInput.bind(this), false);\n    this.inputElement.addEventListener('keydown', this.onUserKeyPress.bind(this), false);\n    document.addEventListener(\"click\", event => {\n      if (event.target !== this.inputElement) {\n        this.closeDropDownList();\n      } else if (!this.autocompleteItemsElement) {\n        // open dropdown list again\n        this.openDropdownAgain();\n      }\n    });\n  }\n\n  setType(type) {\n    this.options.type = type;\n  }\n\n  setLang(lang) {\n    this.options.lang = lang;\n  }\n\n  setCountryCodes(codes) {\n    console.warn(\"WARNING! Obsolete function called. Function setCountryCodes() has been deprecated, please use the new addFilterByCountry() function instead!\");\n    this.options.countryCodes = codes;\n  }\n\n  setPosition(position) {\n    console.warn(\"WARNING! Obsolete function called. Function setPosition() has been deprecated, please use the new addBiasByProximity() function instead!\");\n    this.options.position = position;\n  }\n\n  setLimit(limit) {\n    this.options.limit = limit;\n  }\n\n  setValue(value) {\n    if (!value) {\n      this.inputClearButton.classList.remove(\"visible\");\n    } else {\n      this.inputClearButton.classList.add(\"visible\");\n    }\n\n    this.inputElement.value = value;\n  }\n\n  addFilterByCountry(codes) {\n    this.options.filter[this.BY_COUNTRYCODE] = codes;\n  }\n\n  addFilterByCircle(filterByCircle) {\n    this.options.filter[this.BY_CIRCLE] = filterByCircle;\n  }\n\n  addFilterByRect(filterByRect) {\n    this.options.filter[this.BY_RECT] = filterByRect;\n  }\n\n  clearFilters() {\n    this.options.filter = {};\n  }\n\n  addBiasByCountry(codes) {\n    this.options.bias[this.BY_COUNTRYCODE] = codes;\n  }\n\n  addBiasByCircle(biasByCircle) {\n    this.options.bias[this.BY_CIRCLE] = biasByCircle;\n  }\n\n  addBiasByRect(biasByRect) {\n    this.options.bias[this.BY_RECT] = biasByRect;\n  }\n\n  addBiasByProximity(biasByProximity) {\n    this.options.bias[this.BY_PROXIMITY] = biasByProximity;\n  }\n\n  clearBias() {\n    this.options.bias = {};\n  }\n\n  on(operation, callback) {\n    if (operation === 'select' && this.changeCallbacks.indexOf(callback) < 0) {\n      this.changeCallbacks.push(callback);\n    }\n\n    if (operation === 'suggestions' && this.suggestionsChangeCallbacks.indexOf(callback) < 0) {\n      this.suggestionsChangeCallbacks.push(callback);\n    }\n  }\n\n  off(operation, callback) {\n    if (operation === 'select' && this.changeCallbacks.indexOf(callback) >= 0) {\n      this.changeCallbacks.splice(this.changeCallbacks.indexOf(callback), 1);\n    }\n\n    if (operation === 'suggestions' && this.suggestionsChangeCallbacks.indexOf(callback) >= 0) {\n      this.suggestionsChangeCallbacks.splice(this.suggestionsChangeCallbacks.indexOf(callback), 1);\n    }\n  }\n\n  setSuggestionsFilter(suggestionsFilterFunc) {\n    this.suggestionsFilter = suggestionsFilterFunc;\n  }\n\n  setPreprocessHook(preprocessHookFunc) {\n    this.preprocessHook = preprocessHookFunc;\n  }\n\n  setPostprocessHook(postprocessHookFunc) {\n    this.postprocessHook = postprocessHookFunc;\n  }\n  /* Execute a function when someone writes in the text field: */\n\n\n  onUserInput(event) {\n    let currentValue = this.inputElement.value;\n    let userEnteredValue = this.inputElement.value;\n    /* Close any already open dropdown list */\n\n    this.closeDropDownList();\n    this.focusedItemIndex = -1; // Cancel previous request\n\n    if (this.currentPromiseReject) {\n      this.currentPromiseReject({\n        canceled: true\n      });\n      this.currentPromiseReject = null;\n    } // Cancel previous timeout\n\n\n    if (this.currentTimeout) {\n      window.clearTimeout(this.currentTimeout);\n      this.currentTimeout = null;\n    }\n\n    if (!currentValue) {\n      this.inputClearButton.classList.remove(\"visible\");\n      return false;\n    } // Show clearButton when there is a text\n\n\n    this.inputClearButton.classList.add(\"visible\");\n    this.currentTimeout = window.setTimeout(() => {\n      /* Create a new promise and send geocoding request */\n      const promise = new Promise((resolve, reject) => {\n        this.currentPromiseReject = reject;\n\n        if (this.preprocessHook && typeof this.preprocessHook === 'function') {\n          currentValue = this.preprocessHook(currentValue);\n        }\n\n        let url = this.generateUrl(currentValue);\n        fetch(url).then(response => {\n          if (response.ok) {\n            response.json().then(data => resolve(data));\n          } else {\n            response.json().then(data => reject(data));\n          }\n        });\n      });\n      promise.then(data => {\n        this.currentItems = data.features;\n\n        if (this.currentItems && this.currentItems.length && this.suggestionsFilter && typeof this.suggestionsFilter === 'function') {\n          this.currentItems = this.suggestionsFilter(this.currentItems);\n        }\n\n        this.notifySuggestions(this.currentItems);\n\n        if (!this.currentItems.length) {\n          return;\n        }\n        /*create a DIV element that will contain the items (values):*/\n\n\n        this.autocompleteItemsElement = document.createElement(\"div\");\n        this.autocompleteItemsElement.setAttribute(\"class\", \"geoapify-autocomplete-items\");\n        /* Append the DIV element as a child of the autocomplete container:*/\n\n        this.container.appendChild(this.autocompleteItemsElement);\n        /* For each item in the results */\n\n        this.currentItems.forEach((feature, index) => {\n          /* Create a DIV element for each element: */\n          const itemElement = document.createElement(\"div\");\n          itemElement.classList.add('geoapify-autocomplete-item');\n\n          if (!this.options.skipIcons) {\n            const iconElement = document.createElement(\"span\");\n            iconElement.classList.add('icon');\n            this.addFeatureIcon(iconElement, feature.properties.result_type, feature.properties.country_code);\n            itemElement.appendChild(iconElement);\n          }\n\n          const textElement = document.createElement(\"span\");\n          textElement.classList.add('address');\n\n          if (this.postprocessHook && typeof this.postprocessHook === 'function') {\n            const value = this.postprocessHook(feature);\n            textElement.innerHTML = this.getStyledAddressSingleValue(value, userEnteredValue);\n          } else {\n            textElement.innerHTML = this.getStyledAddress(feature.properties, userEnteredValue);\n          }\n\n          itemElement.appendChild(textElement);\n          itemElement.addEventListener(\"click\", e => {\n            event.stopPropagation();\n            this.setValueAndNotify(this.currentItems[index]);\n          });\n          this.autocompleteItemsElement.appendChild(itemElement);\n        });\n      }, err => {\n        if (!err.canceled) {\n          console.log(err);\n        }\n      });\n    }, this.options.debounceDelay);\n  }\n\n  getStyledAddressSingleValue(value, currentValue) {\n    let displayValue = value;\n    const valueIndex = (displayValue || '').toLowerCase().indexOf(currentValue.toLowerCase());\n\n    if (valueIndex >= 0) {\n      displayValue = displayValue.substring(0, valueIndex) + `<strong>${displayValue.substring(valueIndex, valueIndex + currentValue.length)}</strong>` + displayValue.substring(valueIndex + currentValue.length);\n    }\n\n    return `<span class=\"main-part\">${displayValue}</span>`;\n  }\n\n  getStyledAddress(featureProperties, currentValue) {\n    let mainPart;\n    let secondaryPart;\n    const parts = featureProperties.formatted.split(',').map(part => part.trim());\n\n    if (featureProperties.name) {\n      mainPart = parts[0];\n      secondaryPart = parts.slice(1).join(', ');\n    } else {\n      const mainElements = Math.min(2, Math.max(parts.length - 2, 1));\n      mainPart = parts.slice(0, mainElements).join(', ');\n      secondaryPart = parts.slice(mainElements).join(', ');\n    }\n\n    const valueIndex = mainPart.toLowerCase().indexOf(currentValue.toLowerCase());\n\n    if (valueIndex >= 0) {\n      mainPart = mainPart.substring(0, valueIndex) + `<strong>${mainPart.substring(valueIndex, valueIndex + currentValue.length)}</strong>` + mainPart.substring(valueIndex + currentValue.length);\n    }\n\n    return `<span class=\"main-part\">${mainPart}</span><span class=\"secondary-part\">${secondaryPart}</span>`;\n  }\n\n  onUserKeyPress(event) {\n    if (this.autocompleteItemsElement) {\n      const itemElements = this.autocompleteItemsElement.getElementsByTagName(\"div\");\n\n      if (event.keyCode == 40) {\n        event.preventDefault();\n        /*If the arrow DOWN key is pressed, increase the focusedItemIndex variable:*/\n\n        this.focusedItemIndex++;\n        if (this.focusedItemIndex >= itemElements.length) this.focusedItemIndex = 0;\n        /*and and make the current item more visible:*/\n\n        this.setActive(itemElements, this.focusedItemIndex);\n      } else if (event.keyCode == 38) {\n        event.preventDefault();\n        /*If the arrow UP key is pressed, decrease the focusedItemIndex variable:*/\n\n        this.focusedItemIndex--;\n        if (this.focusedItemIndex < 0) this.focusedItemIndex = itemElements.length - 1;\n        /*and and make the current item more visible:*/\n\n        this.setActive(itemElements, this.focusedItemIndex);\n      } else if (event.keyCode == 13) {\n        /* If the ENTER key is pressed and value as selected, close the list*/\n        event.preventDefault();\n\n        if (this.focusedItemIndex > -1) {\n          this.closeDropDownList();\n        }\n      }\n    } else {\n      if (event.keyCode == 40) {\n        /* Open dropdown list again */\n        this.openDropdownAgain();\n      }\n    }\n  }\n\n  setActive(items, index) {\n    if (!items || !items.length) return false;\n\n    for (var i = 0; i < items.length; i++) {\n      items[i].classList.remove(\"active\");\n    }\n    /* Add class \"autocomplete-active\" to the active element*/\n\n\n    items[index].classList.add(\"active\"); // Change input value and notify\n\n    if (this.postprocessHook && typeof this.postprocessHook === 'function') {\n      this.inputElement.value = this.postprocessHook(this.currentItems[index]);\n    } else {\n      this.inputElement.value = this.currentItems[index].properties.formatted;\n    }\n\n    this.notifyValueSelected(this.currentItems[index]);\n  }\n\n  setValueAndNotify(feature) {\n    if (this.postprocessHook && typeof this.postprocessHook === 'function') {\n      this.inputElement.value = this.postprocessHook(feature);\n    } else {\n      this.inputElement.value = feature.properties.formatted;\n    }\n\n    this.notifyValueSelected(feature);\n    /* Close the list of autocompleted values: */\n\n    this.closeDropDownList();\n  }\n\n  clearFieldAndNotify(event) {\n    event.stopPropagation();\n    this.inputElement.value = '';\n    this.inputClearButton.classList.remove(\"visible\"); // Cancel previous request\n\n    if (this.currentPromiseReject) {\n      this.currentPromiseReject({\n        canceled: true\n      });\n      this.currentPromiseReject = null;\n    } // Cancel previous timeout\n\n\n    if (this.currentTimeout) {\n      window.clearTimeout(this.currentTimeout);\n      this.currentTimeout = null;\n    }\n\n    this.closeDropDownList(); // notify here\n\n    this.notifyValueSelected(null);\n  }\n\n  closeDropDownList() {\n    if (this.autocompleteItemsElement) {\n      this.container.removeChild(this.autocompleteItemsElement);\n      this.autocompleteItemsElement = null;\n    }\n  }\n\n  addIcon(element, icon) {\n    //FortAwesome icons 5. Licence - https://fontawesome.com/license/free\n    const icons = {\n      \"close\": {\n        path: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\",\n        viewbox: \"0 0 24 24\"\n      },\n      \"map-marker\": {\n        path: \"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z\",\n        viewbox: \"0 0 384 512\"\n      },\n      \"road\": {\n        path: \"M573.19 402.67l-139.79-320C428.43 71.29 417.6 64 405.68 64h-97.59l2.45 23.16c.5 4.72-3.21 8.84-7.96 8.84h-29.16c-4.75 0-8.46-4.12-7.96-8.84L267.91 64h-97.59c-11.93 0-22.76 7.29-27.73 18.67L2.8 402.67C-6.45 423.86 8.31 448 30.54 448h196.84l10.31-97.68c.86-8.14 7.72-14.32 15.91-14.32h68.8c8.19 0 15.05 6.18 15.91 14.32L348.62 448h196.84c22.23 0 36.99-24.14 27.73-45.33zM260.4 135.16a8 8 0 0 1 7.96-7.16h39.29c4.09 0 7.53 3.09 7.96 7.16l4.6 43.58c.75 7.09-4.81 13.26-11.93 13.26h-40.54c-7.13 0-12.68-6.17-11.93-13.26l4.59-43.58zM315.64 304h-55.29c-9.5 0-16.91-8.23-15.91-17.68l5.07-48c.86-8.14 7.72-14.32 15.91-14.32h45.15c8.19 0 15.05 6.18 15.91 14.32l5.07 48c1 9.45-6.41 17.68-15.91 17.68z\",\n        viewbox: \"0 0 576 512\"\n      },\n      \"city\": {\n        path: \"M616 192H480V24c0-13.26-10.74-24-24-24H312c-13.26 0-24 10.74-24 24v72h-64V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v80h-64V16c0-8.84-7.16-16-16-16H80c-8.84 0-16 7.16-16 16v80H24c-13.26 0-24 10.74-24 24v360c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V216c0-13.26-10.75-24-24-24zM128 404c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm128 192c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12V76c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 288c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40z\",\n        viewbox: \"0 0 640 512\"\n      }\n    };\n    var svgElement = document.createElementNS(\"http://www.w3.org/2000/svg\", 'svg');\n    svgElement.setAttribute('viewBox', icons[icon].viewbox);\n    svgElement.setAttribute('height', \"24\");\n    var iconElement = document.createElementNS(\"http://www.w3.org/2000/svg\", 'path');\n    iconElement.setAttribute(\"d\", icons[icon].path);\n    iconElement.setAttribute('fill', 'currentColor');\n    svgElement.appendChild(iconElement);\n    element.appendChild(svgElement);\n  }\n\n  addFeatureIcon(element, type, countryCode) {\n    const iconMap = {\n      'unknown': 'map-marker',\n      'amenity': 'map-marker',\n      'building': 'map-marker',\n      'street': 'road',\n      'suburb': 'city',\n      'district': 'city',\n      'postcode': 'city',\n      'city': 'city',\n      'county': 'city',\n      'state': 'city'\n    };\n    const countryData = countries_json_1.default.find(county => countryCode && county.code.toLowerCase() === countryCode.toLowerCase());\n\n    if (type === 'country' && countryData) {\n      element.classList.add(\"emoji\");\n      ;\n      const emojiElement = document.createElement('span');\n      emojiElement.innerText = countryData.emoji;\n      element.appendChild(emojiElement);\n    } else if (iconMap[type]) {\n      this.addIcon(element, iconMap[type]);\n    } else {\n      this.addIcon(element, 'map-marker');\n    }\n  }\n\n  notifyValueSelected(feature) {\n    // Cancel previous place details request\n    if (this.currentPlaceDetailsPromiseReject) {\n      this.currentPlaceDetailsPromiseReject({\n        canceled: true\n      });\n      this.currentPlaceDetailsPromiseReject = null;\n    }\n\n    if (this.options.skipDetails || !feature) {\n      this.changeCallbacks.forEach(callback => callback(feature));\n    } else {\n      const promise = new Promise((resolve, reject) => {\n        this.currentPlaceDetailsPromiseReject = reject;\n        let url = this.generatePlacesUrlUrl(feature.properties.place_id);\n        fetch(url).then(response => {\n          if (response.ok) {\n            response.json().then(data => resolve(data));\n          } else {\n            response.json().then(data => reject(data));\n          }\n        });\n      });\n      promise.then(data => {\n        if (!data.features.length) {\n          this.changeCallbacks.forEach(callback => callback(feature));\n          return;\n        }\n\n        const placeDetails = data.features[0];\n        this.changeCallbacks.forEach(callback => callback(placeDetails));\n        this.currentPlaceDetailsPromiseReject = null;\n      }, err => {\n        if (!err.canceled) {\n          console.log(err);\n        }\n      });\n    }\n  }\n\n  notifySuggestions(features) {\n    this.suggestionsChangeCallbacks.forEach(callback => callback(features));\n  }\n\n  openDropdownAgain() {\n    const event = document.createEvent('Event');\n    event.initEvent('input', true, true);\n    this.inputElement.dispatchEvent(event);\n  }\n\n  generatePlacesUrlUrl(placeId) {\n    let url = `${this.placeDetailsUrl}?id=${placeId}&apiKey=${this.apiKey}`;\n\n    if (this.options.lang) {\n      url += `&lang=${this.options.lang}`;\n    }\n\n    return url;\n  }\n\n  generateUrl(value) {\n    let url = `${this.geocoderUrl}?text=${encodeURIComponent(value)}&apiKey=${this.apiKey}`; // Add type of the location if set. Learn more about possible parameters on https://apidocs.geoapify.com/docs/geocoding/api/api\n\n    if (this.options.type) {\n      url += `&type=${this.options.type}`;\n    }\n\n    if (this.options.limit) {\n      url += `&limit=${this.options.limit}`;\n    }\n\n    if (this.options.lang) {\n      url += `&lang=${this.options.lang}`;\n    }\n\n    const filters = [];\n    const filterByCountryCodes = this.options.filter[this.BY_COUNTRYCODE];\n    const filterByCircle = this.options.filter[this.BY_CIRCLE];\n    const filterByRect = this.options.filter[this.BY_RECT];\n\n    if (filterByCountryCodes && filterByCountryCodes.length) {\n      filters.push(`countrycode:${filterByCountryCodes.join(',').toLowerCase()}`);\n    }\n\n    if (filterByCircle && this.isLatitude(filterByCircle.lat) && this.isLongitude(filterByCircle.lon) && filterByCircle.radiusMeters > 0) {\n      filters.push(`circle:${filterByCircle.lon},${filterByCircle.lat},${filterByCircle.radiusMeters}`);\n    }\n\n    if (filterByRect && this.isLatitude(filterByRect.lat1) && this.isLongitude(filterByRect.lon1) && this.isLatitude(filterByRect.lat2) && this.isLongitude(filterByRect.lon2)) {\n      filters.push(`rect:${filterByRect.lon1},${filterByRect.lat1},${filterByRect.lon2},${filterByRect.lat2}`);\n    }\n\n    url += filters.length ? `&filter=${filters.join('|')}` : '';\n    const bias = [];\n    const biasByCountryCodes = this.options.bias[this.BY_COUNTRYCODE];\n    const biasByCircle = this.options.bias[this.BY_CIRCLE];\n    const biasByRect = this.options.bias[this.BY_RECT];\n    const biasByProximity = this.options.bias[this.BY_PROXIMITY];\n\n    if (biasByCountryCodes && biasByCountryCodes.length) {\n      bias.push(`countrycode:${biasByCountryCodes.join(',').toLowerCase()}`);\n    }\n\n    if (biasByCircle && this.isLatitude(biasByCircle.lat) && this.isLongitude(biasByCircle.lon) && biasByCircle.radiusMeters > 0) {\n      bias.push(`circle:${biasByCircle.lon},${biasByCircle.lat},${biasByCircle.radiusMeters}`);\n    }\n\n    if (biasByRect && this.isLatitude(biasByRect.lat1) && this.isLongitude(biasByRect.lon1) && this.isLatitude(biasByRect.lat2) && this.isLongitude(biasByRect.lon2)) {\n      bias.push(`rect:${biasByRect.lon1},${biasByRect.lat1},${biasByRect.lon2},${biasByRect.lat2}`);\n    }\n\n    if (biasByProximity && this.isLatitude(biasByProximity.lat) && this.isLongitude(biasByProximity.lon)) {\n      bias.push(`proximity:${biasByProximity.lon},${biasByProximity.lat}`);\n    }\n\n    url += bias.length ? `&bias=${bias.join('|')}` : '';\n    return url;\n  }\n\n  isLatitude(num) {\n    return num !== '' && num !== null && isFinite(num) && Math.abs(num) <= 90;\n  }\n\n  isLongitude(num) {\n    return num !== '' && num !== null && isFinite(num) && Math.abs(num) <= 180;\n  }\n\n}\n\nexports.GeocoderAutocomplete = GeocoderAutocomplete;","map":{"version":3,"sources":["C:/Users/34644/ProyectoFinalDAW/mycovid19/node_modules/@geoapify/geocoder-autocomplete/dist/autocomplete.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","GeocoderAutocomplete","countries_json_1","require","constructor","container","apiKey","options","autocompleteItemsElement","changeCallbacks","suggestionsChangeCallbacks","geocoderUrl","placeDetailsUrl","limit","debounceDelay","BY_COUNTRYCODE","BY_RECT","BY_CIRCLE","BY_PROXIMITY","assign","filter","bias","countryCodes","addFilterByCountry","position","addBiasByProximity","inputElement","document","createElement","classList","add","setAttribute","placeholder","appendChild","inputClearButton","addIcon","addEventListener","clearFieldAndNotify","bind","onUserInput","onUserKeyPress","event","target","closeDropDownList","openDropdownAgain","setType","type","setLang","lang","setCountryCodes","codes","console","warn","setPosition","setLimit","setValue","remove","addFilterByCircle","filterByCircle","addFilterByRect","filterByRect","clearFilters","addBiasByCountry","addBiasByCircle","biasByCircle","addBiasByRect","biasByRect","biasByProximity","clearBias","on","operation","callback","indexOf","push","off","splice","setSuggestionsFilter","suggestionsFilterFunc","suggestionsFilter","setPreprocessHook","preprocessHookFunc","preprocessHook","setPostprocessHook","postprocessHookFunc","postprocessHook","currentValue","userEnteredValue","focusedItemIndex","currentPromiseReject","canceled","currentTimeout","window","clearTimeout","setTimeout","promise","Promise","resolve","reject","url","generateUrl","fetch","then","response","ok","json","data","currentItems","features","length","notifySuggestions","forEach","feature","index","itemElement","skipIcons","iconElement","addFeatureIcon","properties","result_type","country_code","textElement","innerHTML","getStyledAddressSingleValue","getStyledAddress","e","stopPropagation","setValueAndNotify","err","log","displayValue","valueIndex","toLowerCase","substring","featureProperties","mainPart","secondaryPart","parts","formatted","split","map","part","trim","name","slice","join","mainElements","Math","min","max","itemElements","getElementsByTagName","keyCode","preventDefault","setActive","items","i","notifyValueSelected","removeChild","element","icon","icons","path","viewbox","svgElement","createElementNS","countryCode","iconMap","countryData","default","find","county","code","emojiElement","innerText","emoji","currentPlaceDetailsPromiseReject","skipDetails","generatePlacesUrlUrl","place_id","placeDetails","createEvent","initEvent","dispatchEvent","placeId","encodeURIComponent","filters","filterByCountryCodes","isLatitude","lat","isLongitude","lon","radiusMeters","lat1","lon1","lat2","lon2","biasByCountryCodes","num","isFinite","abs"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GeocoderAutocomplete = void 0;\nconst countries_json_1 = __importDefault(require(\"./countries.json\"));\nclass GeocoderAutocomplete {\n    constructor(container, apiKey, options) {\n        this.container = container;\n        this.apiKey = apiKey;\n        this.autocompleteItemsElement = null;\n        this.changeCallbacks = [];\n        this.suggestionsChangeCallbacks = [];\n        this.geocoderUrl = \"https://api.geoapify.com/v1/geocode/autocomplete\";\n        this.placeDetailsUrl = \"https://api.geoapify.com/v2/place-details\";\n        this.options = {\n            limit: 5,\n            debounceDelay: 100\n        };\n        this.BY_COUNTRYCODE = 'countrycode';\n        this.BY_RECT = 'rect';\n        this.BY_CIRCLE = 'circle';\n        this.BY_PROXIMITY = 'proximity';\n        this.options = options ? Object.assign(Object.assign({}, this.options), options) : this.options;\n        this.options.filter = this.options.filter || {};\n        this.options.bias = this.options.bias || {};\n        if (this.options.countryCodes) {\n            this.addFilterByCountry(this.options.countryCodes);\n        }\n        if (this.options.position) {\n            this.addBiasByProximity(this.options.position);\n        }\n        // create input element\n        this.inputElement = document.createElement(\"input\");\n        this.inputElement.classList.add(\"geoapify-autocomplete-input\");\n        this.inputElement.setAttribute(\"type\", \"text\");\n        this.inputElement.setAttribute(\"placeholder\", this.options.placeholder || \"Enter an address here\");\n        this.container.appendChild(this.inputElement);\n        // add clear button to input element\n        this.inputClearButton = document.createElement(\"div\");\n        this.inputClearButton.classList.add(\"geoapify-close-button\");\n        this.addIcon(this.inputClearButton, 'close');\n        this.inputClearButton.addEventListener(\"click\", this.clearFieldAndNotify.bind(this), false);\n        this.container.appendChild(this.inputClearButton);\n        this.inputElement.addEventListener('input', this.onUserInput.bind(this), false);\n        this.inputElement.addEventListener('keydown', this.onUserKeyPress.bind(this), false);\n        document.addEventListener(\"click\", (event) => {\n            if (event.target !== this.inputElement) {\n                this.closeDropDownList();\n            }\n            else if (!this.autocompleteItemsElement) {\n                // open dropdown list again\n                this.openDropdownAgain();\n            }\n        });\n    }\n    setType(type) {\n        this.options.type = type;\n    }\n    setLang(lang) {\n        this.options.lang = lang;\n    }\n    setCountryCodes(codes) {\n        console.warn(\"WARNING! Obsolete function called. Function setCountryCodes() has been deprecated, please use the new addFilterByCountry() function instead!\");\n        this.options.countryCodes = codes;\n    }\n    setPosition(position) {\n        console.warn(\"WARNING! Obsolete function called. Function setPosition() has been deprecated, please use the new addBiasByProximity() function instead!\");\n        this.options.position = position;\n    }\n    setLimit(limit) {\n        this.options.limit = limit;\n    }\n    setValue(value) {\n        if (!value) {\n            this.inputClearButton.classList.remove(\"visible\");\n        }\n        else {\n            this.inputClearButton.classList.add(\"visible\");\n        }\n        this.inputElement.value = value;\n    }\n    addFilterByCountry(codes) {\n        this.options.filter[this.BY_COUNTRYCODE] = codes;\n    }\n    addFilterByCircle(filterByCircle) {\n        this.options.filter[this.BY_CIRCLE] = filterByCircle;\n    }\n    addFilterByRect(filterByRect) {\n        this.options.filter[this.BY_RECT] = filterByRect;\n    }\n    clearFilters() {\n        this.options.filter = {};\n    }\n    addBiasByCountry(codes) {\n        this.options.bias[this.BY_COUNTRYCODE] = codes;\n    }\n    addBiasByCircle(biasByCircle) {\n        this.options.bias[this.BY_CIRCLE] = biasByCircle;\n    }\n    addBiasByRect(biasByRect) {\n        this.options.bias[this.BY_RECT] = biasByRect;\n    }\n    addBiasByProximity(biasByProximity) {\n        this.options.bias[this.BY_PROXIMITY] = biasByProximity;\n    }\n    clearBias() {\n        this.options.bias = {};\n    }\n    on(operation, callback) {\n        if (operation === 'select' && this.changeCallbacks.indexOf(callback) < 0) {\n            this.changeCallbacks.push(callback);\n        }\n        if (operation === 'suggestions' && this.suggestionsChangeCallbacks.indexOf(callback) < 0) {\n            this.suggestionsChangeCallbacks.push(callback);\n        }\n    }\n    off(operation, callback) {\n        if (operation === 'select' && this.changeCallbacks.indexOf(callback) >= 0) {\n            this.changeCallbacks.splice(this.changeCallbacks.indexOf(callback), 1);\n        }\n        if (operation === 'suggestions' && this.suggestionsChangeCallbacks.indexOf(callback) >= 0) {\n            this.suggestionsChangeCallbacks.splice(this.suggestionsChangeCallbacks.indexOf(callback), 1);\n        }\n    }\n    setSuggestionsFilter(suggestionsFilterFunc) {\n        this.suggestionsFilter = suggestionsFilterFunc;\n    }\n    setPreprocessHook(preprocessHookFunc) {\n        this.preprocessHook = preprocessHookFunc;\n    }\n    setPostprocessHook(postprocessHookFunc) {\n        this.postprocessHook = postprocessHookFunc;\n    }\n    /* Execute a function when someone writes in the text field: */\n    onUserInput(event) {\n        let currentValue = this.inputElement.value;\n        let userEnteredValue = this.inputElement.value;\n        /* Close any already open dropdown list */\n        this.closeDropDownList();\n        this.focusedItemIndex = -1;\n        // Cancel previous request\n        if (this.currentPromiseReject) {\n            this.currentPromiseReject({\n                canceled: true\n            });\n            this.currentPromiseReject = null;\n        }\n        // Cancel previous timeout\n        if (this.currentTimeout) {\n            window.clearTimeout(this.currentTimeout);\n            this.currentTimeout = null;\n        }\n        if (!currentValue) {\n            this.inputClearButton.classList.remove(\"visible\");\n            return false;\n        }\n        // Show clearButton when there is a text\n        this.inputClearButton.classList.add(\"visible\");\n        this.currentTimeout = window.setTimeout(() => {\n            /* Create a new promise and send geocoding request */\n            const promise = new Promise((resolve, reject) => {\n                this.currentPromiseReject = reject;\n                if (this.preprocessHook && typeof this.preprocessHook === 'function') {\n                    currentValue = this.preprocessHook(currentValue);\n                }\n                let url = this.generateUrl(currentValue);\n                fetch(url)\n                    .then((response) => {\n                    if (response.ok) {\n                        response.json().then(data => resolve(data));\n                    }\n                    else {\n                        response.json().then(data => reject(data));\n                    }\n                });\n            });\n            promise.then((data) => {\n                this.currentItems = data.features;\n                if (this.currentItems && this.currentItems.length && this.suggestionsFilter && typeof this.suggestionsFilter === 'function') {\n                    this.currentItems = this.suggestionsFilter(this.currentItems);\n                }\n                this.notifySuggestions(this.currentItems);\n                if (!this.currentItems.length) {\n                    return;\n                }\n                /*create a DIV element that will contain the items (values):*/\n                this.autocompleteItemsElement = document.createElement(\"div\");\n                this.autocompleteItemsElement.setAttribute(\"class\", \"geoapify-autocomplete-items\");\n                /* Append the DIV element as a child of the autocomplete container:*/\n                this.container.appendChild(this.autocompleteItemsElement);\n                /* For each item in the results */\n                this.currentItems.forEach((feature, index) => {\n                    /* Create a DIV element for each element: */\n                    const itemElement = document.createElement(\"div\");\n                    itemElement.classList.add('geoapify-autocomplete-item');\n                    if (!this.options.skipIcons) {\n                        const iconElement = document.createElement(\"span\");\n                        iconElement.classList.add('icon');\n                        this.addFeatureIcon(iconElement, feature.properties.result_type, feature.properties.country_code);\n                        itemElement.appendChild(iconElement);\n                    }\n                    const textElement = document.createElement(\"span\");\n                    textElement.classList.add('address');\n                    if (this.postprocessHook && typeof this.postprocessHook === 'function') {\n                        const value = this.postprocessHook(feature);\n                        textElement.innerHTML = this.getStyledAddressSingleValue(value, userEnteredValue);\n                    }\n                    else {\n                        textElement.innerHTML = this.getStyledAddress(feature.properties, userEnteredValue);\n                    }\n                    itemElement.appendChild(textElement);\n                    itemElement.addEventListener(\"click\", (e) => {\n                        event.stopPropagation();\n                        this.setValueAndNotify(this.currentItems[index]);\n                    });\n                    this.autocompleteItemsElement.appendChild(itemElement);\n                });\n            }, (err) => {\n                if (!err.canceled) {\n                    console.log(err);\n                }\n            });\n        }, this.options.debounceDelay);\n    }\n    getStyledAddressSingleValue(value, currentValue) {\n        let displayValue = value;\n        const valueIndex = (displayValue || '').toLowerCase().indexOf(currentValue.toLowerCase());\n        if (valueIndex >= 0) {\n            displayValue = displayValue.substring(0, valueIndex) +\n                `<strong>${displayValue.substring(valueIndex, valueIndex + currentValue.length)}</strong>` +\n                displayValue.substring(valueIndex + currentValue.length);\n        }\n        return `<span class=\"main-part\">${displayValue}</span>`;\n    }\n    getStyledAddress(featureProperties, currentValue) {\n        let mainPart;\n        let secondaryPart;\n        const parts = featureProperties.formatted.split(',').map((part) => part.trim());\n        if (featureProperties.name) {\n            mainPart = parts[0];\n            secondaryPart = parts.slice(1).join(', ');\n        }\n        else {\n            const mainElements = Math.min(2, Math.max(parts.length - 2, 1));\n            mainPart = parts.slice(0, mainElements).join(', ');\n            secondaryPart = parts.slice(mainElements).join(', ');\n        }\n        const valueIndex = mainPart.toLowerCase().indexOf(currentValue.toLowerCase());\n        if (valueIndex >= 0) {\n            mainPart = mainPart.substring(0, valueIndex) +\n                `<strong>${mainPart.substring(valueIndex, valueIndex + currentValue.length)}</strong>` +\n                mainPart.substring(valueIndex + currentValue.length);\n        }\n        return `<span class=\"main-part\">${mainPart}</span><span class=\"secondary-part\">${secondaryPart}</span>`;\n    }\n    onUserKeyPress(event) {\n        if (this.autocompleteItemsElement) {\n            const itemElements = this.autocompleteItemsElement.getElementsByTagName(\"div\");\n            if (event.keyCode == 40) {\n                event.preventDefault();\n                /*If the arrow DOWN key is pressed, increase the focusedItemIndex variable:*/\n                this.focusedItemIndex++;\n                if (this.focusedItemIndex >= itemElements.length)\n                    this.focusedItemIndex = 0;\n                /*and and make the current item more visible:*/\n                this.setActive(itemElements, this.focusedItemIndex);\n            }\n            else if (event.keyCode == 38) {\n                event.preventDefault();\n                /*If the arrow UP key is pressed, decrease the focusedItemIndex variable:*/\n                this.focusedItemIndex--;\n                if (this.focusedItemIndex < 0)\n                    this.focusedItemIndex = (itemElements.length - 1);\n                /*and and make the current item more visible:*/\n                this.setActive(itemElements, this.focusedItemIndex);\n            }\n            else if (event.keyCode == 13) {\n                /* If the ENTER key is pressed and value as selected, close the list*/\n                event.preventDefault();\n                if (this.focusedItemIndex > -1) {\n                    this.closeDropDownList();\n                }\n            }\n        }\n        else {\n            if (event.keyCode == 40) {\n                /* Open dropdown list again */\n                this.openDropdownAgain();\n            }\n        }\n    }\n    setActive(items, index) {\n        if (!items || !items.length)\n            return false;\n        for (var i = 0; i < items.length; i++) {\n            items[i].classList.remove(\"active\");\n        }\n        /* Add class \"autocomplete-active\" to the active element*/\n        items[index].classList.add(\"active\");\n        // Change input value and notify\n        if (this.postprocessHook && typeof this.postprocessHook === 'function') {\n            this.inputElement.value = this.postprocessHook(this.currentItems[index]);\n        }\n        else {\n            this.inputElement.value = this.currentItems[index].properties.formatted;\n        }\n        this.notifyValueSelected(this.currentItems[index]);\n    }\n    setValueAndNotify(feature) {\n        if (this.postprocessHook && typeof this.postprocessHook === 'function') {\n            this.inputElement.value = this.postprocessHook(feature);\n        }\n        else {\n            this.inputElement.value = feature.properties.formatted;\n        }\n        this.notifyValueSelected(feature);\n        /* Close the list of autocompleted values: */\n        this.closeDropDownList();\n    }\n    clearFieldAndNotify(event) {\n        event.stopPropagation();\n        this.inputElement.value = '';\n        this.inputClearButton.classList.remove(\"visible\");\n        // Cancel previous request\n        if (this.currentPromiseReject) {\n            this.currentPromiseReject({\n                canceled: true\n            });\n            this.currentPromiseReject = null;\n        }\n        // Cancel previous timeout\n        if (this.currentTimeout) {\n            window.clearTimeout(this.currentTimeout);\n            this.currentTimeout = null;\n        }\n        this.closeDropDownList();\n        // notify here\n        this.notifyValueSelected(null);\n    }\n    closeDropDownList() {\n        if (this.autocompleteItemsElement) {\n            this.container.removeChild(this.autocompleteItemsElement);\n            this.autocompleteItemsElement = null;\n        }\n    }\n    addIcon(element, icon) {\n        //FortAwesome icons 5. Licence - https://fontawesome.com/license/free\n        const icons = {\n            \"close\": {\n                path: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\",\n                viewbox: \"0 0 24 24\"\n            },\n            \"map-marker\": {\n                path: \"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z\",\n                viewbox: \"0 0 384 512\"\n            },\n            \"road\": {\n                path: \"M573.19 402.67l-139.79-320C428.43 71.29 417.6 64 405.68 64h-97.59l2.45 23.16c.5 4.72-3.21 8.84-7.96 8.84h-29.16c-4.75 0-8.46-4.12-7.96-8.84L267.91 64h-97.59c-11.93 0-22.76 7.29-27.73 18.67L2.8 402.67C-6.45 423.86 8.31 448 30.54 448h196.84l10.31-97.68c.86-8.14 7.72-14.32 15.91-14.32h68.8c8.19 0 15.05 6.18 15.91 14.32L348.62 448h196.84c22.23 0 36.99-24.14 27.73-45.33zM260.4 135.16a8 8 0 0 1 7.96-7.16h39.29c4.09 0 7.53 3.09 7.96 7.16l4.6 43.58c.75 7.09-4.81 13.26-11.93 13.26h-40.54c-7.13 0-12.68-6.17-11.93-13.26l4.59-43.58zM315.64 304h-55.29c-9.5 0-16.91-8.23-15.91-17.68l5.07-48c.86-8.14 7.72-14.32 15.91-14.32h45.15c8.19 0 15.05 6.18 15.91 14.32l5.07 48c1 9.45-6.41 17.68-15.91 17.68z\",\n                viewbox: \"0 0 576 512\"\n            },\n            \"city\": {\n                path: \"M616 192H480V24c0-13.26-10.74-24-24-24H312c-13.26 0-24 10.74-24 24v72h-64V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v80h-64V16c0-8.84-7.16-16-16-16H80c-8.84 0-16 7.16-16 16v80H24c-13.26 0-24 10.74-24 24v360c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V216c0-13.26-10.75-24-24-24zM128 404c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm128 192c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12V76c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 288c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40z\",\n                viewbox: \"0 0 640 512\"\n            }\n        };\n        var svgElement = document.createElementNS(\"http://www.w3.org/2000/svg\", 'svg');\n        svgElement.setAttribute('viewBox', icons[icon].viewbox);\n        svgElement.setAttribute('height', \"24\");\n        var iconElement = document.createElementNS(\"http://www.w3.org/2000/svg\", 'path');\n        iconElement.setAttribute(\"d\", icons[icon].path);\n        iconElement.setAttribute('fill', 'currentColor');\n        svgElement.appendChild(iconElement);\n        element.appendChild(svgElement);\n    }\n    addFeatureIcon(element, type, countryCode) {\n        const iconMap = {\n            'unknown': 'map-marker',\n            'amenity': 'map-marker',\n            'building': 'map-marker',\n            'street': 'road',\n            'suburb': 'city',\n            'district': 'city',\n            'postcode': 'city',\n            'city': 'city',\n            'county': 'city',\n            'state': 'city'\n        };\n        const countryData = countries_json_1.default.find(county => countryCode && county.code.toLowerCase() === countryCode.toLowerCase());\n        if ((type === 'country') && countryData) {\n            element.classList.add(\"emoji\");\n            ;\n            const emojiElement = document.createElement('span');\n            emojiElement.innerText = countryData.emoji;\n            element.appendChild(emojiElement);\n        }\n        else if (iconMap[type]) {\n            this.addIcon(element, iconMap[type]);\n        }\n        else {\n            this.addIcon(element, 'map-marker');\n        }\n    }\n    notifyValueSelected(feature) {\n        // Cancel previous place details request\n        if (this.currentPlaceDetailsPromiseReject) {\n            this.currentPlaceDetailsPromiseReject({\n                canceled: true\n            });\n            this.currentPlaceDetailsPromiseReject = null;\n        }\n        if (this.options.skipDetails || !feature) {\n            this.changeCallbacks.forEach(callback => callback(feature));\n        }\n        else {\n            const promise = new Promise((resolve, reject) => {\n                this.currentPlaceDetailsPromiseReject = reject;\n                let url = this.generatePlacesUrlUrl(feature.properties.place_id);\n                fetch(url)\n                    .then((response) => {\n                    if (response.ok) {\n                        response.json().then(data => resolve(data));\n                    }\n                    else {\n                        response.json().then(data => reject(data));\n                    }\n                });\n            });\n            promise.then((data) => {\n                if (!data.features.length) {\n                    this.changeCallbacks.forEach(callback => callback(feature));\n                    return;\n                }\n                const placeDetails = data.features[0];\n                this.changeCallbacks.forEach(callback => callback(placeDetails));\n                this.currentPlaceDetailsPromiseReject = null;\n            }, (err) => {\n                if (!err.canceled) {\n                    console.log(err);\n                }\n            });\n        }\n    }\n    notifySuggestions(features) {\n        this.suggestionsChangeCallbacks.forEach(callback => callback(features));\n    }\n    openDropdownAgain() {\n        const event = document.createEvent('Event');\n        event.initEvent('input', true, true);\n        this.inputElement.dispatchEvent(event);\n    }\n    generatePlacesUrlUrl(placeId) {\n        let url = `${this.placeDetailsUrl}?id=${placeId}&apiKey=${this.apiKey}`;\n        if (this.options.lang) {\n            url += `&lang=${this.options.lang}`;\n        }\n        return url;\n    }\n    generateUrl(value) {\n        let url = `${this.geocoderUrl}?text=${encodeURIComponent(value)}&apiKey=${this.apiKey}`;\n        // Add type of the location if set. Learn more about possible parameters on https://apidocs.geoapify.com/docs/geocoding/api/api\n        if (this.options.type) {\n            url += `&type=${this.options.type}`;\n        }\n        if (this.options.limit) {\n            url += `&limit=${this.options.limit}`;\n        }\n        if (this.options.lang) {\n            url += `&lang=${this.options.lang}`;\n        }\n        const filters = [];\n        const filterByCountryCodes = this.options.filter[this.BY_COUNTRYCODE];\n        const filterByCircle = this.options.filter[this.BY_CIRCLE];\n        const filterByRect = this.options.filter[this.BY_RECT];\n        if (filterByCountryCodes && filterByCountryCodes.length) {\n            filters.push(`countrycode:${filterByCountryCodes.join(',').toLowerCase()}`);\n        }\n        if (filterByCircle && this.isLatitude(filterByCircle.lat) && this.isLongitude(filterByCircle.lon) && filterByCircle.radiusMeters > 0) {\n            filters.push(`circle:${filterByCircle.lon},${filterByCircle.lat},${filterByCircle.radiusMeters}`);\n        }\n        if (filterByRect && this.isLatitude(filterByRect.lat1) && this.isLongitude(filterByRect.lon1) && this.isLatitude(filterByRect.lat2) && this.isLongitude(filterByRect.lon2)) {\n            filters.push(`rect:${filterByRect.lon1},${filterByRect.lat1},${filterByRect.lon2},${filterByRect.lat2}`);\n        }\n        url += filters.length ? `&filter=${filters.join('|')}` : '';\n        const bias = [];\n        const biasByCountryCodes = this.options.bias[this.BY_COUNTRYCODE];\n        const biasByCircle = this.options.bias[this.BY_CIRCLE];\n        const biasByRect = this.options.bias[this.BY_RECT];\n        const biasByProximity = this.options.bias[this.BY_PROXIMITY];\n        if (biasByCountryCodes && biasByCountryCodes.length) {\n            bias.push(`countrycode:${biasByCountryCodes.join(',').toLowerCase()}`);\n        }\n        if (biasByCircle && this.isLatitude(biasByCircle.lat) && this.isLongitude(biasByCircle.lon) && biasByCircle.radiusMeters > 0) {\n            bias.push(`circle:${biasByCircle.lon},${biasByCircle.lat},${biasByCircle.radiusMeters}`);\n        }\n        if (biasByRect && this.isLatitude(biasByRect.lat1) && this.isLongitude(biasByRect.lon1) && this.isLatitude(biasByRect.lat2) && this.isLongitude(biasByRect.lon2)) {\n            bias.push(`rect:${biasByRect.lon1},${biasByRect.lat1},${biasByRect.lon2},${biasByRect.lat2}`);\n        }\n        if (biasByProximity && this.isLatitude(biasByProximity.lat) && this.isLongitude(biasByProximity.lon)) {\n            bias.push(`proximity:${biasByProximity.lon},${biasByProximity.lat}`);\n        }\n        url += bias.length ? `&bias=${bias.join('|')}` : '';\n        return url;\n    }\n    isLatitude(num) {\n        return num !== '' && num !== null && isFinite(num) && Math.abs(num) <= 90;\n    }\n    isLongitude(num) {\n        return num !== '' && num !== null && isFinite(num) && Math.abs(num) <= 180;\n    }\n}\nexports.GeocoderAutocomplete = GeocoderAutocomplete;\n"]},"metadata":{},"sourceType":"script"}